<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="de-De" xml:lang="de-De">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta property="og:title" content="Praxis der Datenanalyse" />
<meta property="og:type" content="book" />

<meta property="og:image" content="images/cover.jpg" />
<meta property="og:description" content="Eine Einführung in moderne Statistik für Praktiker" />
<meta name="github-repo" content="sebastiansauer/Praxis_der_Datenanalyse" />

<meta name="author" content="Sebastian Sauer, Matthias Gehrke, Karsten Lübke, Oliver Gansser" />


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>

<meta name="description" content="Eine Einführung in moderne Statistik für Praktiker">

<title>Praxis der Datenanalyse</title>

<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/united.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="libs/navigation-1.1/tabsets.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
</style>
</head>

<body>

<div class="container-fluid main-container">


<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li><a href="index.html#vorwort">Vorwort</a></li>
<li class="has-sub"><a href="1-organisatorisches.html#organisatorisches"><span class="toc-section-number">1</span> Organisatorisches</a><ul>
<li><a href="1-1-themen-pro-termin.html#themen-pro-termin"><span class="toc-section-number">1.1</span> Themen pro Termin</a></li>
<li><a href="1-2-vorerfahrung.html#vorerfahrung"><span class="toc-section-number">1.2</span> Vorerfahrung</a></li>
<li class="has-sub"><a href="1-3-prufung.html#prufung"><span class="toc-section-number">1.3</span> Prüfung</a><ul>
<li><a href="1-3-prufung.html#prufungshinweise"><span class="toc-section-number">1.3.1</span> Prüfungshinweise</a></li>
<li><a href="1-3-prufung.html#klausur"><span class="toc-section-number">1.3.2</span> Klausur</a></li>
<li><a href="1-3-prufung.html#datenanalyse"><span class="toc-section-number">1.3.3</span> Datenanalyse</a></li>
<li><a href="1-3-prufung.html#gliederungsvorschlag-zur-datenanalyse"><span class="toc-section-number">1.3.4</span> Gliederungsvorschlag zur Datenanalyse</a></li>
</ul></li>
<li><a href="1-4-literatur.html#literatur"><span class="toc-section-number">1.4</span> Literatur</a></li>
</ul></li>
<li class="has-sub"><a href="2-rahmen.html#rahmen"><span class="toc-section-number">2</span> Rahmen</a><ul>
<li class="has-sub"><a href="2-1-software-installieren.html#software-installieren"><span class="toc-section-number">2.1</span> Software installieren</a><ul>
<li><a href="2-1-software-installieren.html#r-und-rstudio-installieren"><span class="toc-section-number">2.1.1</span> R und RStudio installieren</a></li>
<li><a href="2-1-software-installieren.html#hilfe-r-tut-nicht-so-wie-ich-das-will"><span class="toc-section-number">2.1.2</span> Hilfe! R tut nicht so wie ich das will</a></li>
<li><a href="2-1-software-installieren.html#hier-werden-sie-geholfen"><span class="toc-section-number">2.1.3</span> Hier werden Sie geholfen</a></li>
<li><a href="2-1-software-installieren.html#die-denk--und-gefuhlswelt-von-r"><span class="toc-section-number">2.1.4</span> Die Denk- und Gefühlswelt von R</a></li>
<li><a href="2-1-software-installieren.html#pakete-installieren"><span class="toc-section-number">2.1.5</span> Pakete installieren</a></li>
<li><a href="2-1-software-installieren.html#r-pakete-fur-dieses-buch"><span class="toc-section-number">2.1.6</span> R-Pakete für dieses Buch</a></li>
<li><a href="2-1-software-installieren.html#daten"><span class="toc-section-number">2.1.7</span> Datensätze</a></li>
<li><a href="2-1-software-installieren.html#aufgaben"><span class="toc-section-number">2.1.8</span> Aufgaben</a></li>
</ul></li>
<li class="has-sub"><a href="2-2-errrstkontakt.html#errrstkontakt"><span class="toc-section-number">2.2</span> ERRRstkontakt</a><ul>
<li><a href="2-2-errrstkontakt.html#hinweise"><span class="toc-section-number">2.2.1</span> Hinweise</a></li>
<li><a href="2-2-errrstkontakt.html#r-als-taschenrechner"><span class="toc-section-number">2.2.2</span> R als Taschenrechner</a></li>
<li><a href="2-2-errrstkontakt.html#text-und-variablen-zuweisen"><span class="toc-section-number">2.2.3</span> Text und Variablen zuweisen</a></li>
<li><a href="2-2-errrstkontakt.html#funktionen-aufrufen"><span class="toc-section-number">2.2.4</span> Funktionen aufrufen</a></li>
<li><a href="2-2-errrstkontakt.html#aufgaben-1"><span class="toc-section-number">2.2.5</span> Aufgaben</a></li>
</ul></li>
<li><a href="2-3-was-ist-statistik-wozu-ist-sie-gut.html#was-ist-statistik-wozu-ist-sie-gut"><span class="toc-section-number">2.3</span> Was ist Statistik? Wozu ist sie gut?</a></li>
<li><a href="2-4-befehlsubersicht.html#befehlsubersicht"><span class="toc-section-number">2.4</span> Befehlsübersicht</a></li>
<li><a href="2-5-verweise.html#verweise"><span class="toc-section-number">2.5</span> Verweise</a></li>
</ul></li>
<li class="has-sub"><a href="3-datenjudo.html#datenjudo"><span class="toc-section-number">3</span> Datenjudo</a><ul>
<li><a href="3-1-typische-probleme.html#typische-probleme"><span class="toc-section-number">3.1</span> Typische Probleme</a></li>
<li class="has-sub"><a href="3-2-daten-aufbereiten-mit-dplyr.html#daten-aufbereiten-mit-dplyr"><span class="toc-section-number">3.2</span> Daten aufbereiten mit <code>dplyr</code></a><ul>
<li><a href="3-2-daten-aufbereiten-mit-dplyr.html#die-zwei-prinzipien-von-dplyr"><span class="toc-section-number">3.2.1</span> Die zwei Prinzipien von <code>dplyr</code></a></li>
</ul></li>
<li class="has-sub"><a href="3-3-zentrale-bausteine-von-dplyr.html#zentrale-bausteine-von-dplyr"><span class="toc-section-number">3.3</span> Zentrale Bausteine von <code>dplyr</code></a><ul>
<li><a href="3-3-zentrale-bausteine-von-dplyr.html#zeilen-filtern-mit-filter"><span class="toc-section-number">3.3.1</span> Zeilen filtern mit <code>filter</code></a></li>
<li><a href="3-3-zentrale-bausteine-von-dplyr.html#spalten-wahlen-mit-select"><span class="toc-section-number">3.3.2</span> Spalten wählen mit <code>select</code></a></li>
<li><a href="3-3-zentrale-bausteine-von-dplyr.html#zeilen-sortieren-mit-arrange"><span class="toc-section-number">3.3.3</span> Zeilen sortieren mit <code>arrange</code></a></li>
<li><a href="3-3-zentrale-bausteine-von-dplyr.html#datensatz-gruppieren-mit-group_by"><span class="toc-section-number">3.3.4</span> Datensatz gruppieren mit <code>group_by</code></a></li>
<li><a href="3-3-zentrale-bausteine-von-dplyr.html#eine-spalte-zusammenfassen-mit-summarise"><span class="toc-section-number">3.3.5</span> Eine Spalte zusammenfassen mit <code>summarise</code></a></li>
<li><a href="3-3-zentrale-bausteine-von-dplyr.html#zeilen-zahlen-mit-n-und-count"><span class="toc-section-number">3.3.6</span> Zeilen zählen mit <code>n</code> und <code>count</code></a></li>
</ul></li>
<li class="has-sub"><a href="3-4-die-pfeife.html#die-pfeife"><span class="toc-section-number">3.4</span> Die Pfeife</a><ul>
<li><a href="3-4-die-pfeife.html#spalten-berechnen-mit-mutate"><span class="toc-section-number">3.4.1</span> Spalten berechnen mit <code>mutate</code></a></li>
<li><a href="3-4-die-pfeife.html#aufgaben-8"><span class="toc-section-number">3.4.2</span> Aufgaben</a></li>
</ul></li>
<li><a href="3-5-befehlsubersicht-1.html#befehlsubersicht-1"><span class="toc-section-number">3.5</span> Befehlsübersicht</a></li>
<li><a href="3-6-verweise-1.html#verweise-1"><span class="toc-section-number">3.6</span> Verweise</a></li>
</ul></li>
<li class="has-sub"><a href="4-praxisprobleme-der-datenaufbereitung.html#praxisprobleme-der-datenaufbereitung"><span class="toc-section-number">4</span> Praxisprobleme der Datenaufbereitung</a><ul>
<li class="has-sub"><a href="4-1-datenaufbereitung.html#datenaufbereitung"><span class="toc-section-number">4.1</span> Datenaufbereitung</a><ul>
<li><a href="4-1-datenaufbereitung.html#auf-fehlende-werte-prufen"><span class="toc-section-number">4.1.1</span> Auf fehlende Werte prüfen</a></li>
<li><a href="4-1-datenaufbereitung.html#falle-mit-fehlenden-werte-loschen"><span class="toc-section-number">4.1.2</span> Fälle mit fehlenden Werte löschen</a></li>
<li><a href="4-1-datenaufbereitung.html#fehlende-werte-ggf.-ersetzen"><span class="toc-section-number">4.1.3</span> Fehlende Werte ggf. ersetzen</a></li>
<li><a href="4-1-datenaufbereitung.html#nach-fehlern-suchen"><span class="toc-section-number">4.1.4</span> Nach Fehlern suchen</a></li>
<li><a href="4-1-datenaufbereitung.html#ausreiser-identifizieren"><span class="toc-section-number">4.1.5</span> Ausreiser identifizieren</a></li>
<li><a href="4-1-datenaufbereitung.html#hochkorrelierte-variablen-finden"><span class="toc-section-number">4.1.6</span> Hochkorrelierte Variablen finden</a></li>
<li><a href="4-1-datenaufbereitung.html#z-standardisieren"><span class="toc-section-number">4.1.7</span> z-Standardisieren</a></li>
<li><a href="4-1-datenaufbereitung.html#quasi-konstante-finden"><span class="toc-section-number">4.1.8</span> Quasi-Konstante finden</a></li>
<li><a href="4-1-datenaufbereitung.html#auf-normalverteilung-prufen"><span class="toc-section-number">4.1.9</span> Auf Normalverteilung prüfen</a></li>
<li><a href="4-1-datenaufbereitung.html#werte-umkodieren-und-binnen"><span class="toc-section-number">4.1.10</span> Werte umkodieren und “binnen”</a></li>
</ul></li>
<li class="has-sub"><a href="4-2-deskriptive-statistiken-berechnen.html#deskriptive-statistiken-berechnen"><span class="toc-section-number">4.2</span> Deskriptive Statistiken berechnen</a><ul>
<li><a href="4-2-deskriptive-statistiken-berechnen.html#mittelwerte-pro-zeile-berechnen"><span class="toc-section-number">4.2.1</span> Mittelwerte pro Zeile berechnen</a></li>
<li><a href="4-2-deskriptive-statistiken-berechnen.html#mittelwerte-pro-spalte-berechnen"><span class="toc-section-number">4.2.2</span> Mittelwerte pro Spalte berechnen</a></li>
<li><a href="4-2-deskriptive-statistiken-berechnen.html#korrelationstabellen-berechnen"><span class="toc-section-number">4.2.3</span> Korrelationstabellen berechnen</a></li>
</ul></li>
<li><a href="4-3-befehlsubersicht-2.html#befehlsubersicht-2"><span class="toc-section-number">4.3</span> Befehlsübersicht</a></li>
</ul></li>
<li class="has-sub"><a href="5-fallstudie-zum-datenjudo.html#fallstudie-zum-datenjudo"><span class="toc-section-number">5</span> Fallstudie zum Datenjudo</a><ul>
<li><a href="5-1-achtung-fallstudie.html#achtung-fallstudie"><span class="toc-section-number">5.1</span> Achtung, Fallstudie</a></li>
<li><a href="5-2-befehlsubersicht-3.html#befehlsubersicht-3"><span class="toc-section-number">5.2</span> Befehlsübersicht</a></li>
<li><a href="5-3-verweise-2.html#verweise-2"><span class="toc-section-number">5.3</span> Verweise</a></li>
</ul></li>
<li class="has-sub"><a href="6-daten-visualisieren.html#daten-visualisieren"><span class="toc-section-number">6</span> Daten visualisieren</a><ul>
<li><a href="6-1-ein-bild-sagt-mehr-als-1000-worte.html#ein-bild-sagt-mehr-als-1000-worte"><span class="toc-section-number">6.1</span> Ein Bild sagt mehr als 1000 Worte</a></li>
<li><a href="6-2-die-anatomie-eines-diagramms.html#die-anatomie-eines-diagramms"><span class="toc-section-number">6.2</span> Die Anatomie eines Diagramms</a></li>
<li><a href="6-3-einstieg-in-ggplot2-qplot.html#einstieg-in-ggplot2---qplot"><span class="toc-section-number">6.3</span> Einstieg in <code>ggplot2</code> - <code>qplot</code></a></li>
<li class="has-sub"><a href="6-4-haufige-arten-von-diagrammen.html#haufige-arten-von-diagrammen"><span class="toc-section-number">6.4</span> Häufige Arten von Diagrammen</a><ul>
<li><a href="6-4-haufige-arten-von-diagrammen.html#eine-kontinuierliche-variable"><span class="toc-section-number">6.4.1</span> Eine kontinuierliche Variable</a></li>
<li><a href="6-4-haufige-arten-von-diagrammen.html#zwei-kontinuierliche-variablen"><span class="toc-section-number">6.4.2</span> Zwei kontinuierliche Variablen</a></li>
<li><a href="6-4-haufige-arten-von-diagrammen.html#eine-diskrete-variable"><span class="toc-section-number">6.4.3</span> Eine diskrete Variable</a></li>
<li><a href="6-4-haufige-arten-von-diagrammen.html#zwei-diskrete-variablen"><span class="toc-section-number">6.4.4</span> Zwei diskrete Variablen</a></li>
<li><a href="6-4-haufige-arten-von-diagrammen.html#zusammenfassungen-zeigen"><span class="toc-section-number">6.4.5</span> Zusammenfassungen zeigen</a></li>
</ul></li>
<li><a href="6-5-die-gefuhlswelt-von-ggplot2.html#die-gefuhlswelt-von-ggplot2"><span class="toc-section-number">6.5</span> Die Gefühlswelt von <code>ggplot2</code></a></li>
<li><a href="6-6-aufgaben-9.html#aufgaben-9"><span class="toc-section-number">6.6</span> Aufgaben</a></li>
<li><a href="6-7-losungen.html#losungen"><span class="toc-section-number">6.7</span> Lösungen</a></li>
<li><a href="6-8-richtig-oder-falsch.html#richtig-oder-falsch"><span class="toc-section-number">6.8</span> Richtig oder Falsch</a></li>
<li><a href="6-9-befehlsubersicht-4.html#befehlsubersicht-4"><span class="toc-section-number">6.9</span> Befehlsübersicht</a></li>
<li><a href="6-10-geome.html#geome"><span class="toc-section-number">6.10</span> Vertiefung: Geome bei ggplot2</a></li>
<li><a href="6-11-verweise-3.html#verweise-3"><span class="toc-section-number">6.11</span> Verweise</a></li>
</ul></li>
<li class="has-sub"><a href="7-fallstudie-zur-visualisierung.html#fallstudie-zur-visualisierung"><span class="toc-section-number">7</span> Fallstudie zur Visualisierung</a><ul>
<li><a href="7-1-daten-einlesen.html#daten-einlesen"><span class="toc-section-number">7.1</span> Daten einlesen</a></li>
<li><a href="7-2-daten-umstellen.html#daten-umstellen"><span class="toc-section-number">7.2</span> Daten umstellen</a></li>
<li><a href="7-3-diagramme-fur-anteile.html#diagramme-fur-anteile"><span class="toc-section-number">7.3</span> Diagramme für Anteile</a></li>
<li><a href="7-4-um-90-drehen.html#um-90-drehen"><span class="toc-section-number">7.4</span> Um 90° drehen</a></li>
<li><a href="7-5-text-labels-fur-die-items.html#text-labels-fur-die-items"><span class="toc-section-number">7.5</span> Text-Labels für die Items</a></li>
<li><a href="7-6-diagramm-mit-haufigkeiten.html#diagramm-mit-haufigkeiten"><span class="toc-section-number">7.6</span> Diagramm mit Häufigkeiten</a></li>
<li><a href="7-7-farbschema.html#farbschema"><span class="toc-section-number">7.7</span> Farbschema</a></li>
</ul></li>
<li class="has-sub"><a href="8-mod1.html#mod1"><span class="toc-section-number">8</span> Grundlagen des Modellierens</a><ul>
<li><a href="8-1-Modellieren.html#Modellieren"><span class="toc-section-number">8.1</span> Was ist ein Modell? Was ist Modellieren?</a></li>
<li><a href="8-2-ein-besipiel-zum-modellieren-in-der-datenanalyse.html#ein-besipiel-zum-modellieren-in-der-datenanalyse"><span class="toc-section-number">8.2</span> Ein Besipiel zum Modellieren in der Datenanalyse</a></li>
<li><a href="8-3-Ziele.html#Ziele"><span class="toc-section-number">8.3</span> Taxonomie der Ziele des Modellierens</a></li>
<li><a href="8-4-die-vier-schritte-des-statistischen-modellierens.html#die-vier-schritte-des-statistischen-modellierens"><span class="toc-section-number">8.4</span> Die vier Schritte des statistischen Modellierens</a></li>
<li><a href="8-5-einfache-vs-komplexe-modelle-unter-vs-uberanpassung.html#einfache-vs.komplexe-modelle-unter--vs.uberanpassung"><span class="toc-section-number">8.5</span> Einfache vs. komplexe Modelle: Unter- vs. Überanpassung</a></li>
<li><a href="8-6-bias-varianz-abwagung.html#bias-varianz-abwagung"><span class="toc-section-number">8.6</span> Bias-Varianz-Abwägung</a></li>
<li><a href="8-7-training-vs-test-stichprobe.html#training--vs.test-stichprobe"><span class="toc-section-number">8.7</span> Training- vs. Test-Stichprobe</a></li>
<li><a href="8-8-wann-welches-modell.html#wann-welches-modell"><span class="toc-section-number">8.8</span> Wann welches Modell?</a></li>
<li><a href="8-9-modellgute.html#modellgute"><span class="toc-section-number">8.9</span> Modellgüte</a></li>
<li><a href="8-10-auswahl-von-pradiktoren.html#auswahl-von-pradiktoren"><span class="toc-section-number">8.10</span> Auswahl von Prädiktoren</a></li>
<li><a href="8-11-aufgaben-10.html#aufgaben-10"><span class="toc-section-number">8.11</span> Aufgaben</a></li>
<li><a href="8-12-befehlsubersicht-5.html#befehlsubersicht-5"><span class="toc-section-number">8.12</span> Befehlsübersicht</a></li>
<li><a href="8-13-verweise-4.html#verweise-4"><span class="toc-section-number">8.13</span> Verweise</a></li>
</ul></li>
<li class="has-sub"><a href="9-der-p-wert.html#der-p-wert"><span class="toc-section-number">9</span> Der p-Wert</a><ul>
<li class="has-sub"><a href="9-1-der-p-wert-sagt-nicht-das-was-viele-denken.html#der-p-wert-sagt-nicht-das-was-viele-denken"><span class="toc-section-number">9.1</span> Der p-Wert sagt nicht das, was viele denken</a><ul>
<li><a href="9-1-der-p-wert-sagt-nicht-das-was-viele-denken.html#von-moslems-und-terroristen"><span class="toc-section-number">9.1.1</span> Von Moslems und Terroristen</a></li>
</ul></li>
<li class="has-sub"><a href="9-2-der-p-wert-ist-eine-funktion-der-stichprobengroe.html#der-p-wert-ist-eine-funktion-der-stichprobengroe"><span class="toc-section-number">9.2</span> Der p-Wert ist eine Funktion der Stichprobengröße</a><ul>
<li><a href="9-2-der-p-wert-ist-eine-funktion-der-stichprobengroe.html#vertiefung-praktisches-beispiel-zum-stichprobeneinfluss-auf-den-p-wert"><span class="toc-section-number">9.2.1</span> Vertiefung: Praktisches Beispiel zum Stichprobeneinfluss auf den p-Wert</a></li>
</ul></li>
<li><a href="9-3-mythen-zum-p-wert.html#mythen-zum-p-wert"><span class="toc-section-number">9.3</span> Mythen zum p-Wert</a></li>
<li><a href="9-4-zur-philosophie-des-p-werts.html#zur-philosophie-des-p-werts"><span class="toc-section-number">9.4</span> Zur Philosophie des p-Werts</a></li>
<li><a href="9-5-fazit.html#fazit"><span class="toc-section-number">9.5</span> Fazit</a></li>
</ul></li>
<li class="has-sub"><a href="10-klassische-lineare-numerische-regression.html#klassische-lineare-numerische-regression"><span class="toc-section-number">10</span> Klassische lineare (numerische) Regression</a><ul>
<li><a href="10-1-einfache-regression.html#einfache-regression"><span class="toc-section-number">10.1</span> Einfache Regression</a></li>
<li><a href="10-2-uberprufung-der-annahmen-der-linearen-regression.html#uberprufung-der-annahmen-der-linearen-regression"><span class="toc-section-number">10.2</span> Überprüfung der Annahmen der linearen Regression</a></li>
<li><a href="10-3-regression-mit-kategorialen-pradiktoren.html#regression-mit-kategorialen-pradiktoren"><span class="toc-section-number">10.3</span> Regression mit kategorialen Prädiktoren</a></li>
<li><a href="10-4-multiple-regression.html#multiple-regression"><span class="toc-section-number">10.4</span> Multiple Regression</a></li>
<li><a href="10-5-inferenz-in-der-linearen-regression.html#inferenz-in-der-linearen-regression"><span class="toc-section-number">10.5</span> Inferenz in der linearen Regression</a></li>
<li class="has-sub"><a href="10-6-modellgute-bei-regressionsmodellen.html#modellgute-bei-regressionsmodellen"><span class="toc-section-number">10.6</span> Modellgüte bei Regressionsmodellen</a><ul>
<li><a href="10-6-modellgute-bei-regressionsmodellen.html#mittlere-quadratfehler"><span class="toc-section-number">10.6.1</span> Mittlere Quadratfehler</a></li>
<li><a href="10-6-modellgute-bei-regressionsmodellen.html#r-quadrat-r2"><span class="toc-section-number">10.6.2</span> R-Quadrat (<span class="math inline">\(R^2\)</span>)</a></li>
<li><a href="10-6-modellgute-bei-regressionsmodellen.html#likelihood-and-friends"><span class="toc-section-number">10.6.3</span> Likelihood and Friends</a></li>
</ul></li>
<li class="has-sub"><a href="10-7-vertiefungen-zum-regressionmodell.html#vertiefungen-zum-regressionmodell"><span class="toc-section-number">10.7</span> Vertiefungen zum Regressionmodell</a><ul>
<li><a href="10-7-vertiefungen-zum-regressionmodell.html#modellwahl"><span class="toc-section-number">10.7.1</span> Modellwahl</a></li>
<li><a href="10-7-vertiefungen-zum-regressionmodell.html#interaktionen"><span class="toc-section-number">10.7.2</span> Interaktionen</a></li>
<li><a href="10-7-vertiefungen-zum-regressionmodell.html#weitere-modellierungsmoglichkeiten"><span class="toc-section-number">10.7.3</span> Weitere Modellierungsmöglichkeiten</a></li>
<li><a href="10-7-vertiefungen-zum-regressionmodell.html#prognoseintervalle"><span class="toc-section-number">10.7.4</span> Prognoseintervalle</a></li>
</ul></li>
<li><a href="10-8-ubung-teaching-rating.html#ubung-teaching-rating"><span class="toc-section-number">10.8</span> Übung: Teaching Rating</a></li>
<li><a href="10-9-overfitting-casestudy.html#overfitting-casestudy"><span class="toc-section-number">10.9</span> Fallstudie zu Overfitting</a></li>
<li><a href="10-10-literatur-1.html#literatur-1"><span class="toc-section-number">10.10</span> Literatur</a></li>
</ul></li>
<li class="has-sub"><a href="11-klassifizierende-regression.html#klassifizierende-regression"><span class="toc-section-number">11</span> Klassifizierende Regression</a><ul>
<li><a href="11-1-vorbereitung.html#vorbereitung"><span class="toc-section-number">11.1</span> Vorbereitung</a></li>
<li><a href="11-2-problemstellung.html#problemstellung"><span class="toc-section-number">11.2</span> Problemstellung</a></li>
<li><a href="11-3-die-idee-der-logistischen-regression.html#die-idee-der-logistischen-regression"><span class="toc-section-number">11.3</span> Die Idee der logistischen Regression</a></li>
<li><a href="11-4-welche-unterschiede-zur-linearen-regression-gibt-es-in-der-ausgabe.html#welche-unterschiede-zur-linearen-regression-gibt-es-in-der-ausgabe"><span class="toc-section-number">11.4</span> Welche Unterschiede zur linearen Regression gibt es in der Ausgabe?</a></li>
<li class="has-sub"><a href="11-5-interpretation-der-koeffizienten.html#interpretation-der-koeffizienten"><span class="toc-section-number">11.5</span> Interpretation der Koeffizienten</a><ul>
<li><a href="11-5-interpretation-der-koeffizienten.html#y-achsenabschnitt-intercept-beta_0"><span class="toc-section-number">11.5.1</span> y-Achsenabschnitt (<code>Intercept</code>) <span class="math inline">\(\beta_0\)</span></a></li>
<li><a href="11-5-interpretation-der-koeffizienten.html#steigung-beta_i-mit-i12...k"><span class="toc-section-number">11.5.2</span> Steigung <span class="math inline">\(\beta_i\)</span> mit <span class="math inline">\(i=1,2,...,K\)</span></a></li>
</ul></li>
<li><a href="11-6-kategoriale-variablen.html#kategoriale-variablen"><span class="toc-section-number">11.6</span> Kategoriale Variablen</a></li>
<li><a href="11-7-multiple-logistische-regression.html#multiple-logistische-regression"><span class="toc-section-number">11.7</span> Multiple logistische Regression</a></li>
<li><a href="11-8-modell-bzw-klassifikationsgute.html#modell--bzw.-klassifikationsgute"><span class="toc-section-number">11.8</span> Modell- bzw. Klassifikationsgüte</a></li>
<li class="has-sub"><a href="11-9-vertiefung.html#vertiefung"><span class="toc-section-number">11.9</span> Vertiefung</a><ul>
<li><a href="11-9-vertiefung.html#modellschatzung"><span class="toc-section-number">11.9.1</span> Modellschätzung</a></li>
<li><a href="11-9-vertiefung.html#likelihood-quotienten-test"><span class="toc-section-number">11.9.2</span> Likelihood Quotienten Test</a></li>
<li><a href="11-9-vertiefung.html#pseudo-r2"><span class="toc-section-number">11.9.3</span> Pseudo-<span class="math inline">\(R^2\)</span></a></li>
</ul></li>
<li><a href="11-10-ubung-rot-oder-weiwein.html#ubung-rot--oder-weiwein"><span class="toc-section-number">11.10</span> Übung: Rot- oder Weißwein?</a></li>
<li><a href="11-11-literatur-2.html#literatur-2"><span class="toc-section-number">11.11</span> Literatur</a></li>
</ul></li>
<li class="has-sub"><a href="12-fallstudien-zum-geleiteten-modellieren.html#fallstudien-zum-geleiteten-modellieren"><span class="toc-section-number">12</span> Fallstudien zum geleiteten Modellieren</a><ul>
<li class="has-sub"><a href="12-1-uberleben-auf-der-titanic.html#uberleben-auf-der-titanic"><span class="toc-section-number">12.1</span> Überleben auf der Titanic</a><ul>
<li><a href="12-1-uberleben-auf-der-titanic.html#daten-und-pakete-laden"><span class="toc-section-number">12.1.1</span> Daten und Pakete laden</a></li>
<li><a href="12-1-uberleben-auf-der-titanic.html#erster-blick"><span class="toc-section-number">12.1.2</span> Erster Blick</a></li>
<li><a href="12-1-uberleben-auf-der-titanic.html#welche-variablen-sind-interessant"><span class="toc-section-number">12.1.3</span> Welche Variablen sind interessant?</a></li>
<li><a href="12-1-uberleben-auf-der-titanic.html#univariate-haufigkeiten"><span class="toc-section-number">12.1.4</span> Univariate Häufigkeiten</a></li>
<li><a href="12-1-uberleben-auf-der-titanic.html#bivariate-haufigkeiten"><span class="toc-section-number">12.1.5</span> Bivariate Häufigkeiten</a></li>
<li><a href="12-1-uberleben-auf-der-titanic.html#signifikanztest"><span class="toc-section-number">12.1.6</span> Signifikanztest</a></li>
<li><a href="12-1-uberleben-auf-der-titanic.html#effektstarke"><span class="toc-section-number">12.1.7</span> Effektstärke</a></li>
<li><a href="12-1-uberleben-auf-der-titanic.html#logististische-regression"><span class="toc-section-number">12.1.8</span> Logististische Regression</a></li>
<li><a href="12-1-uberleben-auf-der-titanic.html#effektstarken-visualieren"><span class="toc-section-number">12.1.9</span> Effektstärken visualieren</a></li>
<li><a href="12-1-uberleben-auf-der-titanic.html#fazit-1"><span class="toc-section-number">12.1.10</span> Fazit</a></li>
</ul></li>
<li class="has-sub"><a href="12-2-auereheliche-affaren.html#auereheliche-affaren"><span class="toc-section-number">12.2</span> Außereheliche Affären</a><ul>
<li><a href="12-2-auereheliche-affaren.html#zentrale-statistiken"><span class="toc-section-number">12.2.1</span> Zentrale Statistiken</a></li>
<li><a href="12-2-auereheliche-affaren.html#visualisieren"><span class="toc-section-number">12.2.2</span> Visualisieren</a></li>
<li><a href="12-2-auereheliche-affaren.html#wer-ist-zufriedener-mit-der-partnerschaft-personen-mit-kindern-oder-ohne"><span class="toc-section-number">12.2.3</span> Wer ist zufriedener mit der Partnerschaft: Personen mit Kindern oder ohne?</a></li>
<li><a href="12-2-auereheliche-affaren.html#wie-viele-fehlende-werte-gibt-es"><span class="toc-section-number">12.2.4</span> Wie viele fehlende Werte gibt es?</a></li>
<li><a href="12-2-auereheliche-affaren.html#wer-ist-glucklicher-manner-oder-frauen"><span class="toc-section-number">12.2.5</span> Wer ist glücklicher: Männer oder Frauen?</a></li>
<li><a href="12-2-auereheliche-affaren.html#effektstarken"><span class="toc-section-number">12.2.6</span> Effektstärken</a></li>
<li><a href="12-2-auereheliche-affaren.html#korrelationen"><span class="toc-section-number">12.2.7</span> Korrelationen</a></li>
<li><a href="12-2-auereheliche-affaren.html#ehejahre-und-affaren"><span class="toc-section-number">12.2.8</span> Ehejahre und Affären</a></li>
<li><a href="12-2-auereheliche-affaren.html#ehezufriedenheit-als-pradiktor"><span class="toc-section-number">12.2.9</span> Ehezufriedenheit als Prädiktor</a></li>
<li><a href="12-2-auereheliche-affaren.html#weitere-pradiktoren-der-affarenhaufigkeit"><span class="toc-section-number">12.2.10</span> Weitere Prädiktoren der Affärenhäufigkeit</a></li>
<li><a href="12-2-auereheliche-affaren.html#unterschied-zwischen-den-geschlechtern"><span class="toc-section-number">12.2.11</span> Unterschied zwischen den Geschlechtern</a></li>
<li><a href="12-2-auereheliche-affaren.html#kinderlose-ehe-vs.ehen-mit-kindern"><span class="toc-section-number">12.2.12</span> Kinderlose Ehe vs. Ehen mit Kindern</a></li>
<li><a href="12-2-auereheliche-affaren.html#halodries"><span class="toc-section-number">12.2.13</span> Halodries</a></li>
<li><a href="12-2-auereheliche-affaren.html#logistische-regression"><span class="toc-section-number">12.2.14</span> logistische Regression</a></li>
<li><a href="12-2-auereheliche-affaren.html#zum-abschluss"><span class="toc-section-number">12.2.15</span> Zum Abschluss</a></li>
</ul></li>
<li class="has-sub"><a href="12-3-befehlsubersicht-6.html#befehlsubersicht-6"><span class="toc-section-number">12.3</span> Befehlsübersicht</a><ul>
<li><a href="12-3-befehlsubersicht-6.html#versionshinweise-und-sessioninfo"><span class="toc-section-number">12.3.1</span> Versionshinweise und SessionInfo</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="13-vertiefung-clusteranalyse.html#vertiefung-clusteranalyse"><span class="toc-section-number">13</span> Vertiefung: Clusteranalyse</a><ul>
<li><a href="13-1-einfuhrung.html#einfuhrung"><span class="toc-section-number">13.1</span> Einführung</a></li>
<li><a href="13-2-intuitive-darstellung-der-clusteranalayse.html#intuitive-darstellung-der-clusteranalayse"><span class="toc-section-number">13.2</span> Intuitive Darstellung der Clusteranalayse</a></li>
<li><a href="13-3-euklidische-distanz.html#euklidische-distanz"><span class="toc-section-number">13.3</span> Euklidische Distanz</a></li>
<li><a href="2-1-software-installieren.html#daten"><span class="toc-section-number">13.4</span> Daten</a></li>
<li><a href="13-5-distanzmae-mit-r-berechnen.html#distanzmae-mit-r-berechnen"><span class="toc-section-number">13.5</span> Distanzmaße mit R berechnen</a></li>
<li><a href="13-6-k-means-clusteranalyse.html#k-means-clusteranalyse"><span class="toc-section-number">13.6</span> k-Means Clusteranalyse</a></li>
<li><a href="13-7-ubung-b3-datensatz.html#ubung-b3-datensatz"><span class="toc-section-number">13.7</span> Übung: B3 Datensatz</a></li>
<li><a href="13-8-literatur-3.html#literatur-3"><span class="toc-section-number">13.8</span> Literatur</a></li>
<li><a href="13-9-verweise-5.html#verweise-5"><span class="toc-section-number">13.9</span> Verweise</a></li>
</ul></li>
<li class="has-sub"><a href="14-probeklausur.html#probeklausur"><span class="toc-section-number">14</span> Probeklausur</a><ul>
<li><a href="14-1-fragen.html#fragen"><span class="toc-section-number">14.1</span> Fragen</a></li>
<li><a href="14-2-losungen-1.html#losungen-1"><span class="toc-section-number">14.2</span> Lösungen</a></li>
</ul></li>
<li><a href="15-literaturverzeichnis.html#literaturverzeichnis"><span class="toc-section-number">15</span> Literaturverzeichnis</a></li>
<li><a href="literaturverzeichnis-1.html#literaturverzeichnis-1">Literaturverzeichnis</a></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="auereheliche-affaren" class="section level2">
<h2><span class="header-section-number">12.2</span> Außereheliche Affären</h2>
<p>Wovon ist die Häufigkeit von Affären (Seitensprüngen) in Ehen abhängig? Diese Frage soll anhand des Datensates <code>Affair</code> untersucht werden.</p>
<p>Quelle: <a href="http://statsmodels.sourceforge.net/0.5.0/datasets/generated/fair.html" class="uri">http://statsmodels.sourceforge.net/0.5.0/datasets/generated/fair.html</a></p>
<p>Der Datensatz findet sich (in ähnlicher Form) auch im R-Paket <code>COUNT</code> (<a href="https://cran.r-project.org/web/packages/COUNT/index.html" class="uri">https://cran.r-project.org/web/packages/COUNT/index.html</a>).</p>
<p>Laden wir als erstes den Datensatz in R. Wählen Sie zuerst das Verzeichnis als Arbeitsverzeichnis, in dem die Daten liegen. Dann laden Sie z.B. mit dem R-Commander (s. Skript) oder “per Hand” z.B. bei mir so:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Affair &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;data/Affairs.csv&quot;</span>)</code></pre></div>
<p>Schauen wir mal, ob es funktioniert hat (“Datenmatrix betrachten”):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(Affair)
<span class="co">#&gt;   X affairs gender age yearsmarried children religiousness education</span>
<span class="co">#&gt; 1 1       0   male  37        10.00       no             3        18</span>
<span class="co">#&gt; 2 2       0 female  27         4.00       no             4        14</span>
<span class="co">#&gt; 3 3       0 female  32        15.00      yes             1        12</span>
<span class="co">#&gt; 4 4       0   male  57        15.00      yes             5        18</span>
<span class="co">#&gt; 5 5       0   male  22         0.75       no             2        17</span>
<span class="co">#&gt; 6 6       0 female  32         1.50       no             2        17</span>
<span class="co">#&gt;   occupation rating</span>
<span class="co">#&gt; 1          7      4</span>
<span class="co">#&gt; 2          6      4</span>
<span class="co">#&gt; 3          1      4</span>
<span class="co">#&gt; 4          6      5</span>
<span class="co">#&gt; 5          6      3</span>
<span class="co">#&gt; 6          5      5</span></code></pre></div>
<p>Ok scheint zu passen. Was jetzt?</p>
<div id="zentrale-statistiken" class="section level3">
<h3><span class="header-section-number">12.2.1</span> Zentrale Statistiken</h3>
<p>Geben Sie zentrale deskriptive Statistiken an für Affärenhäufigkeit und Ehezufriedenheit!</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># nicht robust:</span>
<span class="kw">mean</span>(Affair$affairs, <span class="dt">na.rm =</span> T)
<span class="co">#&gt; [1] 1.46</span>
<span class="kw">sd</span>(Affair$affairs, <span class="dt">na.rm =</span> T)
<span class="co">#&gt; [1] 3.3</span>
<span class="co"># robust:</span>
<span class="kw">median</span>(Affair$affair, <span class="dt">na.rm =</span> T)
<span class="co">#&gt; [1] 0</span>
<span class="kw">IQR</span>(Affair$affair, <span class="dt">na.rm =</span> T)
<span class="co">#&gt; [1] 0</span></code></pre></div>
<p>Es scheint, die meisten Leute haben keine Affären:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(Affair$affairs)
<span class="co">#&gt; </span>
<span class="co">#&gt;   0   1   2   3   7  12 </span>
<span class="co">#&gt; 451  34  17  19  42  38</span></code></pre></div>
<p>Man kann sich viele Statistiken mit dem Befehl <code>describe</code> aus <code>psych</code> ausgeben lassen, das ist etwas praktischer:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(psych)
                 
<span class="kw">describe</span>(Affair$affairs)
<span class="co">#&gt;    vars   n mean  sd median trimmed mad min max range skew kurtosis   se</span>
<span class="co">#&gt; X1    1 601 1.46 3.3      0    0.55   0   0  12    12 2.34     4.19 0.13</span>
<span class="kw">describe</span>(Affair$rating)
<span class="co">#&gt;    vars   n mean  sd median trimmed  mad min max range  skew kurtosis   se</span>
<span class="co">#&gt; X1    1 601 3.93 1.1      4    4.07 1.48   1   5     4 -0.83    -0.22 0.04</span></code></pre></div>
<p>Dazu muss das Paket <code>psych</code> natürlich vorher installiert sein. Beachten Sie, dass man ein Paket nur <em>einmal</em> installieren muss, aber jedes Mal, wenn Sie R starten, auch starten muss (mit <code>library</code>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">&quot;psych&quot;</span>)</code></pre></div>
</div>
<div id="visualisieren" class="section level3">
<h3><span class="header-section-number">12.2.2</span> Visualisieren</h3>
<p>Visualisieren Sie zentrale Variablen!</p>
<p>Sicherlich sind Diagramme auch hilfreich. Dies geht wiederum mit dem R-Commander oder z.B. mit folgenden Befehlen:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="kw">library</span>(ggplot2)
<span class="kw">qplot</span>(<span class="dt">x =</span> affairs, <span class="dt">data =</span> Affair)
<span class="kw">qplot</span>(<span class="dt">x =</span> rating, <span class="dt">data =</span> Affair)</code></pre></div>
<p><img src="076_Fallstudie_Affairs_files/figure-html/unnamed-chunk-8-1.png" width="70%" style="display: block; margin: auto;" /><img src="076_Fallstudie_Affairs_files/figure-html/unnamed-chunk-8-2.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Die meisten Menschen (dieser Stichprobe) scheinen mit Ihrer Beziehung sehr zufrieden zu sein.</p>
</div>
<div id="wer-ist-zufriedener-mit-der-partnerschaft-personen-mit-kindern-oder-ohne" class="section level3">
<h3><span class="header-section-number">12.2.3</span> Wer ist zufriedener mit der Partnerschaft: Personen mit Kindern oder ohne?</h3>
<p>Nehmen wir dazu mal ein paar <code>dplyr</code>-Befehle:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)
Affair %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(children) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">rating_children =</span> <span class="kw">mean</span>(rating, <span class="dt">na.rm =</span> T))
<span class="co">#&gt; # A tibble: 2 × 2</span>
<span class="co">#&gt;   children rating_children</span>
<span class="co">#&gt;     &lt;fctr&gt;           &lt;dbl&gt;</span>
<span class="co">#&gt; 1       no            4.27</span>
<span class="co">#&gt; 2      yes            3.80</span></code></pre></div>
<p>Ah! Kinder sind also ein Risikofaktor für eine Partnerschaft! Gut, dass wir das geklärt haben.</p>
</div>
<div id="wie-viele-fehlende-werte-gibt-es" class="section level3">
<h3><span class="header-section-number">12.2.4</span> Wie viele fehlende Werte gibt es?</h3>
<p>Was machen wir am besten damit?</p>
<p>Diesen Befehl könnten wir für jede Spalte auführen:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(<span class="kw">is.na</span>(Affair$affairs))
<span class="co">#&gt; [1] 0</span></code></pre></div>
<p>Oder lieber alle auf einmal:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Affair %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarise_each</span>(<span class="kw">funs</span>(<span class="kw">sum</span>(<span class="kw">is.na</span>(.))))
<span class="co">#&gt;   X affairs gender age yearsmarried children religiousness education</span>
<span class="co">#&gt; 1 0       0      0   0            0        0             0         0</span>
<span class="co">#&gt;   occupation rating</span>
<span class="co">#&gt; 1          0      0</span></code></pre></div>
<p>Übrigens gibt es ein gutes <a href="https://www.rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf">Cheat Sheet</a> für <code>dplyr</code>.</p>
<p>Ah, gut, keine fehlenden Werte. Das macht uns das Leben leichter.</p>
</div>
<div id="wer-ist-glucklicher-manner-oder-frauen" class="section level3">
<h3><span class="header-section-number">12.2.5</span> Wer ist glücklicher: Männer oder Frauen?</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Affair %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(gender) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">rating_gender =</span> <span class="kw">mean</span>(rating))
<span class="co">#&gt; # A tibble: 2 × 2</span>
<span class="co">#&gt;   gender rating_gender</span>
<span class="co">#&gt;   &lt;fctr&gt;         &lt;dbl&gt;</span>
<span class="co">#&gt; 1 female          3.94</span>
<span class="co">#&gt; 2   male          3.92</span></code></pre></div>
<p>Praktisch kein Unterschied. Heißt das auch, es gibt keinen Unterschied in der Häufigkeit der Affären?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Affair %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(gender) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">affairs_gender =</span> <span class="kw">mean</span>(affairs))
<span class="co">#&gt; # A tibble: 2 × 2</span>
<span class="co">#&gt;   gender affairs_gender</span>
<span class="co">#&gt;   &lt;fctr&gt;          &lt;dbl&gt;</span>
<span class="co">#&gt; 1 female           1.42</span>
<span class="co">#&gt; 2   male           1.50</span></code></pre></div>
<p>Scheint auch kein Unterschied zu sein…</p>
<p>Und zum Abschluss noch mal etwas genauer: Teilen wir mal nach Geschlecht und nach Kinderstatus auf, also in 4 Gruppen. Theoretisch dürfte es hier auch keine Unterschiede/Zusammenhänge geben. Zumindest fällt mir kein sinnvoller Grund ein; zumal die vorherige eindimensionale Analyse keine Unterschiede zu Tage gefördert hat.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Affair %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(gender, children) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">affairs_mean =</span> <span class="kw">mean</span>(affairs),
            <span class="dt">rating_mean =</span> <span class="kw">mean</span>(rating))
<span class="co">#&gt; Source: local data frame [4 x 4]</span>
<span class="co">#&gt; Groups: gender [?]</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   gender children affairs_mean rating_mean</span>
<span class="co">#&gt;   &lt;fctr&gt;   &lt;fctr&gt;        &lt;dbl&gt;       &lt;dbl&gt;</span>
<span class="co">#&gt; 1 female       no        0.838        4.40</span>
<span class="co">#&gt; 2 female      yes        1.685        3.73</span>
<span class="co">#&gt; 3   male       no        1.014        4.10</span>
<span class="co">#&gt; 4   male      yes        1.659        3.86</span>

Affair %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(children, gender) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">affairs_mean =</span> <span class="kw">mean</span>(affairs),
            <span class="dt">rating_mean =</span> <span class="kw">mean</span>(rating))
<span class="co">#&gt; Source: local data frame [4 x 4]</span>
<span class="co">#&gt; Groups: children [?]</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   children gender affairs_mean rating_mean</span>
<span class="co">#&gt;     &lt;fctr&gt; &lt;fctr&gt;        &lt;dbl&gt;       &lt;dbl&gt;</span>
<span class="co">#&gt; 1       no female        0.838        4.40</span>
<span class="co">#&gt; 2       no   male        1.014        4.10</span>
<span class="co">#&gt; 3      yes female        1.685        3.73</span>
<span class="co">#&gt; 4      yes   male        1.659        3.86</span></code></pre></div>
</div>
<div id="effektstarken" class="section level3">
<h3><span class="header-section-number">12.2.6</span> Effektstärken</h3>
<p>Berichten Sie eine relevante Effektstärke!</p>
<p>Hm, auch keine gewaltigen Unterschiede. Höchstens für die Zufriedenheit mit der Partnerschaft bei kinderlosen Personen scheinen sich Männer und Frauen etwas zu unterscheiden. Hier stellt sich die Frage nach der Größe des Effekts, z.B. anhand Cohen’s d. Dafür müssen wir noch die SD pro Gruppe wissen:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Affair %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(children, gender) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">rating_mean =</span> <span class="kw">mean</span>(rating),
            <span class="dt">rating_sd =</span> <span class="kw">sd</span>(rating))
<span class="co">#&gt; Source: local data frame [4 x 4]</span>
<span class="co">#&gt; Groups: children [?]</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   children gender rating_mean rating_sd</span>
<span class="co">#&gt;     &lt;fctr&gt; &lt;fctr&gt;       &lt;dbl&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt; 1       no female        4.40     0.914</span>
<span class="co">#&gt; 2       no   male        4.10     1.064</span>
<span class="co">#&gt; 3      yes female        3.73     1.183</span>
<span class="co">#&gt; 4      yes   male        3.86     1.046</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">d &lt;-<span class="st"> </span>(<span class="fl">4.4</span> -<span class="st"> </span><span class="fl">4.1</span>)/(<span class="dv">1</span>)</code></pre></div>
<p>Die Effektstärke beträgt etwa 0.3.</p>
</div>
<div id="korrelationen" class="section level3">
<h3><span class="header-section-number">12.2.7</span> Korrelationen</h3>
<p>Berechnen und visualisieren Sie zentrale Korrelationen!</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Affair %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">select_if</span>(is.numeric) %&gt;%<span class="st"> </span>
<span class="st">  </span>cor -&gt;<span class="st"> </span>cor_tab

cor_tab
<span class="co">#&gt;                     X  affairs     age yearsmarried religiousness</span>
<span class="co">#&gt; X              1.0000  0.57692  0.0362       0.1078       -0.1164</span>
<span class="co">#&gt; affairs        0.5769  1.00000  0.0952       0.1868       -0.1445</span>
<span class="co">#&gt; age            0.0362  0.09524  1.0000       0.7775        0.1938</span>
<span class="co">#&gt; yearsmarried   0.1078  0.18684  0.7775       1.0000        0.2183</span>
<span class="co">#&gt; religiousness -0.1164 -0.14450  0.1938       0.2183        1.0000</span>
<span class="co">#&gt; education     -0.0537 -0.00244  0.1346       0.0400       -0.0426</span>
<span class="co">#&gt; occupation    -0.0691  0.04961  0.1664       0.0446       -0.0397</span>
<span class="co">#&gt; rating        -0.1951 -0.27951 -0.1990      -0.2431        0.0243</span>
<span class="co">#&gt;               education occupation  rating</span>
<span class="co">#&gt; X              -0.05371    -0.0691 -0.1951</span>
<span class="co">#&gt; affairs        -0.00244     0.0496 -0.2795</span>
<span class="co">#&gt; age             0.13460     0.1664 -0.1990</span>
<span class="co">#&gt; yearsmarried    0.04000     0.0446 -0.2431</span>
<span class="co">#&gt; religiousness  -0.04257    -0.0397  0.0243</span>
<span class="co">#&gt; education       1.00000     0.5336  0.1093</span>
<span class="co">#&gt; occupation      0.53361     1.0000  0.0174</span>
<span class="co">#&gt; rating          0.10930     0.0174  1.0000</span>

<span class="kw">library</span>(corrplot)
<span class="kw">corrplot</span>(cor_tab)</code></pre></div>
<p><img src="076_Fallstudie_Affairs_files/figure-html/unnamed-chunk-17-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="ehejahre-und-affaren" class="section level3">
<h3><span class="header-section-number">12.2.8</span> Ehejahre und Affären</h3>
<p>Wie groß ist der Einfluss (das Einflussgewicht) der Ehejahre bzw. Ehezufriedenheit auf die Anzahl der Affären?</p>
<p>Dazu sagen wir R: “Hey R, rechne mal ein lineares Modell”, also eine normale (lineare) Regression. Dazu können wir entweder das entsprechende Menü im R-Commander auswählen, oder folgende R-Befehle ausführen:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lm1 &lt;-<span class="st"> </span><span class="kw">lm</span>(affairs ~<span class="st"> </span>yearsmarried, <span class="dt">data =</span> Affair)
<span class="kw">summary</span>(lm1)  <span class="co"># Ergebnisse der Regression zeigen</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = affairs ~ yearsmarried, data = Affair)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;    Min     1Q Median     3Q    Max </span>
<span class="co">#&gt; -2.211 -1.658 -0.994 -0.597 11.366 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;              Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="co">#&gt; (Intercept)    0.5512     0.2351    2.34    0.019 *  </span>
<span class="co">#&gt; yearsmarried   0.1106     0.0238    4.65    4e-06 ***</span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 3.24 on 599 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.0349, Adjusted R-squared:  0.0333 </span>
<span class="co">#&gt; F-statistic: 21.7 on 1 and 599 DF,  p-value: 4e-06</span>
lm2 &lt;-<span class="st"> </span><span class="kw">lm</span>(affairs ~<span class="st"> </span>rating, <span class="dt">data =</span> Affair)
<span class="kw">summary</span>(lm2)
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = affairs ~ rating, data = Affair)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;    Min     1Q Median     3Q    Max </span>
<span class="co">#&gt; -3.906 -1.399 -0.563 -0.563 11.437 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="co">#&gt; (Intercept)    4.742      0.479    9.90   &lt;2e-16 ***</span>
<span class="co">#&gt; rating        -0.836      0.117   -7.12    3e-12 ***</span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 3.17 on 599 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.0781, Adjusted R-squared:  0.0766 </span>
<span class="co">#&gt; F-statistic: 50.8 on 1 and 599 DF,  p-value: 3e-12</span></code></pre></div>
<p>Also: <code>yearsmarried</code> und <code>rating</code> sind beide statistisch signifikante Prädiktoren für die Häufigkeit von Affären. Das adjustierte <span class="math inline">\(R^2\)</span> ist allerdings in beiden Fällen nicht so groß.</p>
</div>
<div id="ehezufriedenheit-als-pradiktor" class="section level3">
<h3><span class="header-section-number">12.2.9</span> Ehezufriedenheit als Prädiktor</h3>
<p>Um wie viel erhöht sich die erklärte Varianz (R-Quadrat) von Affärenhäufigkeit wenn man den Prädiktor Ehezufriedenheit zum Prädiktor Ehejahre hinzufügt? (Wie) verändern sich die Einflussgewichte (b)?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lm3 &lt;-<span class="st"> </span><span class="kw">lm</span>(affairs ~<span class="st"> </span>rating +<span class="st"> </span>yearsmarried, <span class="dt">data =</span> Affair)
lm4 &lt;-<span class="st"> </span><span class="kw">lm</span>(affairs ~<span class="st"> </span>yearsmarried +<span class="st"> </span>rating, <span class="dt">data =</span> Affair)
<span class="kw">summary</span>(lm3)
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = affairs ~ rating + yearsmarried, data = Affair)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;    Min     1Q Median     3Q    Max </span>
<span class="co">#&gt; -4.147 -1.650 -0.837 -0.162 11.894 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;              Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="co">#&gt; (Intercept)    3.7691     0.5671    6.65  6.8e-11 ***</span>
<span class="co">#&gt; rating        -0.7439     0.1200   -6.20  1.1e-09 ***</span>
<span class="co">#&gt; yearsmarried   0.0748     0.0238    3.15   0.0017 ** </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 3.15 on 598 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.0931, Adjusted R-squared:  0.0901 </span>
<span class="co">#&gt; F-statistic: 30.7 on 2 and 598 DF,  p-value: 2.01e-13</span>
<span class="kw">summary</span>(lm4)
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = affairs ~ yearsmarried + rating, data = Affair)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;    Min     1Q Median     3Q    Max </span>
<span class="co">#&gt; -4.147 -1.650 -0.837 -0.162 11.894 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;              Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="co">#&gt; (Intercept)    3.7691     0.5671    6.65  6.8e-11 ***</span>
<span class="co">#&gt; yearsmarried   0.0748     0.0238    3.15   0.0017 ** </span>
<span class="co">#&gt; rating        -0.7439     0.1200   -6.20  1.1e-09 ***</span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 3.15 on 598 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.0931, Adjusted R-squared:  0.0901 </span>
<span class="co">#&gt; F-statistic: 30.7 on 2 and 598 DF,  p-value: 2.01e-13</span></code></pre></div>
<p>Ok. Macht eigentlich die Reihenfolge der Prädiktoren in der Regression einen Unterschied? Der Vergleich von Modell 3 vs. Modell 4 beantwortet diese Frage.</p>
<p>Wir sehen, dass beim 1. Regressionsmodell das R^2 0.03 war; beim 2. Modell 0.08 und beim 3. Modell liegt R^2 bei 0.09. Die Differenz zwischen Modell 1 und 3 liegt bei (gerundet) 0.06; wenig.</p>
</div>
<div id="weitere-pradiktoren-der-affarenhaufigkeit" class="section level3">
<h3><span class="header-section-number">12.2.10</span> Weitere Prädiktoren der Affärenhäufigkeit</h3>
<p>Welche Prädiktoren würden Sie noch in die Regressionsanalyse aufnehmen?</p>
<p>Hm, diese Frage klingt nicht so, als ob der Dozent die Antwort selber wüsste… Naja, welche Variablen gibt es denn alles:</p>
<pre><code>#&gt;  [1] &quot;X&quot;             &quot;affairs&quot;       &quot;gender&quot;        &quot;age&quot;          
#&gt;  [5] &quot;yearsmarried&quot;  &quot;children&quot;      &quot;religiousness&quot; &quot;education&quot;    
#&gt;  [9] &quot;occupation&quot;    &quot;rating&quot;</code></pre>
<p>Z.B. wäre doch interessant, ob Ehen mit Kinder mehr oder weniger Seitensprüngen aufweisen. Und ob die “Kinderfrage” die anderen Zusammenhänge/Einflussgewichte in der Regression verändert. Probieren wir es auch. Wir können wiederum im R-Comamnder ein Regressionsmodell anfordern oder es mit der Syntax probieren:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lm5 &lt;-<span class="st"> </span><span class="kw">lm</span>(affairs~<span class="st"> </span>rating +<span class="st"> </span>yearsmarried +<span class="st"> </span>children, <span class="dt">data =</span> Affair)
<span class="kw">summary</span>(lm5)
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = affairs ~ rating + yearsmarried + children, data = Affair)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;    Min     1Q Median     3Q    Max </span>
<span class="co">#&gt; -4.354 -1.732 -0.893 -0.172 12.016 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;              Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="co">#&gt; (Intercept)    3.8524     0.5881    6.55  1.2e-10 ***</span>
<span class="co">#&gt; rating        -0.7486     0.1204   -6.22  9.6e-10 ***</span>
<span class="co">#&gt; yearsmarried   0.0833     0.0285    2.92   0.0036 ** </span>
<span class="co">#&gt; childrenyes   -0.1881     0.3482   -0.54   0.5893    </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 3.15 on 597 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.0936, Adjusted R-squared:  0.089 </span>
<span class="co">#&gt; F-statistic: 20.5 on 3 and 597 DF,  p-value: 1.11e-12</span>
r2_lm5 &lt;-<span class="st"> </span><span class="kw">summary</span>(lm5)$r.squared</code></pre></div>
<p>Das Regressionsgewicht von <code>childrenyes</code> ist negativ. Das bedeutet, dass Ehen mit Kindern weniger Affären verbuchen (aber geringe Zufriedenheit, wie wir oben gesehen haben! Hrks!). Allerdings ist der p-Wert nich signifikant, was wir als Zeichen der Unbedeutsamkeit dieses Prädiktors verstehen können. <span class="math inline">\(R^2\)</span> lungert immer noch bei mickrigen 0.094 herum. Wir haben bisher kaum verstanden, wie es zu Affären kommt. Oder unsere Daten bergen diese Informationen einfach nicht.</p>
<p>Wir könnten auch einfach mal Prädiktoren, die wir haben, ins Feld schicken. Mal sehen, was dann passiert:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lm6 &lt;-<span class="st"> </span><span class="kw">lm</span>(affairs ~<span class="st"> </span>., <span class="dt">data =</span> Affair)
<span class="kw">summary</span>(lm6)
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = affairs ~ ., data = Affair)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;    Min     1Q Median     3Q    Max </span>
<span class="co">#&gt; -5.162 -1.644 -0.484  1.016  9.509 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;                Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="co">#&gt; (Intercept)    0.612898   1.008088    0.61  0.54343    </span>
<span class="co">#&gt; X              0.010085   0.000634   15.92  &lt; 2e-16 ***</span>
<span class="co">#&gt; gendermale    -0.222695   0.252198   -0.88  0.37759    </span>
<span class="co">#&gt; age           -0.029519   0.018987   -1.55  0.12054    </span>
<span class="co">#&gt; yearsmarried   0.120077   0.034656    3.46  0.00057 ***</span>
<span class="co">#&gt; childrenyes   -0.357956   0.293529   -1.22  0.22314    </span>
<span class="co">#&gt; religiousness -0.272637   0.094432   -2.89  0.00403 ** </span>
<span class="co">#&gt; education      0.001544   0.053711    0.03  0.97708    </span>
<span class="co">#&gt; occupation     0.182340   0.074579    2.44  0.01478 *  </span>
<span class="co">#&gt; rating        -0.456198   0.101757   -4.48  8.8e-06 ***</span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 2.59 on 591 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.392,  Adjusted R-squared:  0.383 </span>
<span class="co">#&gt; F-statistic: 42.4 on 9 and 591 DF,  p-value: &lt;2e-16</span>
r2_lm6 &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="kw">summary</span>(lm6)$r.squared, <span class="dv">2</span>)</code></pre></div>
<p>Der “.” im Befehl <code>affairs ~ .</code> oben soll sagen: nimm “alle Variablen, die noch in der Datenmatrix übrig sind”.</p>
<p>Insgesamt bleibt die erklärte Varian in sehr bescheidenem Rahmen: 0.39. Das zeigt uns, dass es immer noch nur schlecht verstanden ist – im Rahmen dieser Analyse – welche Faktoren die Affärenhäufigkeit erklärt.</p>
</div>
<div id="unterschied-zwischen-den-geschlechtern" class="section level3">
<h3><span class="header-section-number">12.2.11</span> Unterschied zwischen den Geschlechtern</h3>
<p>Unterscheiden sich die Geschlechter statistisch signifikant? Wie groß ist der Unterschied? Sollte hierlieber das d-Maß oder Rohwerte als Effektmaß angegeben werden?</p>
<p>Hier bietet sich ein t-Test für unabhängige Gruppen an. Die Frage lässt auf eine ungerichtete Hypothese schließen (<span class="math inline">\(\alpha\)</span> sei .05). Mit dem entsprechenden Menüpunkt im R-Commander oder mit folgender Syntax lässt sich diese Analyse angehen:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">t1 &lt;-<span class="st"> </span><span class="kw">t.test</span>(affairs ~<span class="st"> </span>gender, <span class="dt">data =</span> Affair)
t1
<span class="co">#&gt; </span>
<span class="co">#&gt;  Welch Two Sample t-test</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; data:  affairs by gender</span>
<span class="co">#&gt; t = -0.3, df = 600, p-value = 0.8</span>
<span class="co">#&gt; alternative hypothesis: true difference in means is not equal to 0</span>
<span class="co">#&gt; 95 percent confidence interval:</span>
<span class="co">#&gt;  -0.607  0.452</span>
<span class="co">#&gt; sample estimates:</span>
<span class="co">#&gt; mean in group female   mean in group male </span>
<span class="co">#&gt;                 1.42                 1.50</span></code></pre></div>
<p>Der p-Wert ist mit 0.774 &gt; <span class="math inline">\(\alpha\)</span>. Daher wird die <span class="math inline">\(H_0\)</span> beibehalten. Auf Basis der Stichprobendaten entscheiden wir uns für die <span class="math inline">\(H_0\)</span>. Entsprechend umschließt das 95%-KI die Null.</p>
<p>Da die Differenz nicht signifikant ist, kann argumentiert werden, dass wir <code>d</code> auf 0 schätzen müssen. Man kann sich den d-Wert auch z.B. von {MBESS} schätzen lassen.</p>
<p>Dafür brauchen wir die Anzahl an Männer und Frauen: 315, 286.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(MBESS)
<span class="kw">ci.smd</span>(<span class="dt">ncp =</span> t1$statistic,
    <span class="dt">n.1 =</span> <span class="dv">315</span>,
    <span class="dt">n.2 =</span> <span class="dv">286</span>)
<span class="co">#&gt; $Lower.Conf.Limit.smd</span>
<span class="co">#&gt; [1] -0.184</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $smd</span>
<span class="co">#&gt;       t </span>
<span class="co">#&gt; -0.0235 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $Upper.Conf.Limit.smd</span>
<span class="co">#&gt; [1] 0.137</span></code></pre></div>
<p>Das Konfidenzintervall ist zwar relativ klein (die Schätzung also aufgrund der recht großen Stichprobe relativ präzise), aber der Schätzwert für d <code>smd</code> liegt sehr nahe bei Null. Das stärkt unsere Entscheidung, von einer Gleichheit der Populationen (Männer vs. Frauen) auszugehen.</p>
</div>
<div id="kinderlose-ehe-vs.ehen-mit-kindern" class="section level3">
<h3><span class="header-section-number">12.2.12</span> Kinderlose Ehe vs. Ehen mit Kindern</h3>
<p>Rechnen Sie die Regressionsanalyse getrennt für kinderlose Ehe und Ehen mit Kindern!</p>
<p>Hier geht es im ersten Schritt darum, die entsprechenden Teil-Mengen der Datenmatrix zu erstellen. Das kann man natürlich mit Excel o.ä. tun. Alternativ könnte man es in R z.B. so machen:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Affair2 &lt;-<span class="st"> </span>Affair[Affair$children ==<span class="st"> &quot;yes&quot;</span>, ]
lm7 &lt;-<span class="st"> </span><span class="kw">lm</span>(affairs~<span class="st"> </span>rating, <span class="dt">data =</span> Affair2)
<span class="kw">summary</span>(lm7)
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = affairs ~ rating, data = Affair2)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;    Min     1Q Median     3Q    Max </span>
<span class="co">#&gt; -4.190 -1.488 -0.587 -0.488 11.413 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="co">#&gt; (Intercept)    5.091      0.570    8.93  &lt; 2e-16 ***</span>
<span class="co">#&gt; rating        -0.901      0.144   -6.25  9.8e-10 ***</span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 3.34 on 428 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.0837, Adjusted R-squared:  0.0815 </span>
<span class="co">#&gt; F-statistic: 39.1 on 1 and 428 DF,  p-value: 9.84e-10</span>

Affair3 &lt;-<span class="st"> </span>Affair[Affair$children ==<span class="st"> &quot;no&quot;</span>, ]
lm8 &lt;-<span class="st"> </span><span class="kw">lm</span>(affairs~<span class="st"> </span>rating, <span class="dt">data =</span> Affair3)
<span class="kw">summary</span>(lm8)
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = affairs ~ rating, data = Affair3)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;    Min     1Q Median     3Q    Max </span>
<span class="co">#&gt;  -2.55  -1.05  -0.55  -0.55  11.45 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)   </span>
<span class="co">#&gt; (Intercept)    3.045      0.914    3.33   0.0011 **</span>
<span class="co">#&gt; rating        -0.499      0.208   -2.40   0.0177 * </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 2.68 on 169 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.0328, Adjusted R-squared:  0.0271 </span>
<span class="co">#&gt; F-statistic: 5.74 on 1 and 169 DF,  p-value: 0.0177</span></code></pre></div>
<p>Übrigens, einfacher geht das “Subsetten” so:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)
Affair4 &lt;-<span class="st"> </span><span class="kw">filter</span>(Affair, children ==<span class="st"> &quot;yes&quot;</span>)
<span class="kw">head</span>(Affair4)
<span class="co">#&gt;    X affairs gender age yearsmarried children religiousness education</span>
<span class="co">#&gt; 1  3       0 female  32           15      yes             1        12</span>
<span class="co">#&gt; 2  4       0   male  57           15      yes             5        18</span>
<span class="co">#&gt; 3  8       0   male  57           15      yes             2        14</span>
<span class="co">#&gt; 4  9       0 female  32           15      yes             4        16</span>
<span class="co">#&gt; 5 11       0   male  37           15      yes             2        20</span>
<span class="co">#&gt; 6 12       0   male  27            4      yes             4        18</span>
<span class="co">#&gt;   occupation rating</span>
<span class="co">#&gt; 1          1      4</span>
<span class="co">#&gt; 2          6      5</span>
<span class="co">#&gt; 3          4      4</span>
<span class="co">#&gt; 4          1      2</span>
<span class="co">#&gt; 5          7      2</span>
<span class="co">#&gt; 6          6      4</span></code></pre></div>
</div>
<div id="halodries" class="section level3">
<h3><span class="header-section-number">12.2.13</span> Halodries</h3>
<p>Rechnen Sie die Regression nur für “Halodries”; d.h. für Menschen mit Seitensprüngen. Dafür müssen Sie alle Menschen ohne Affären aus den Datensatz entfernen.</p>
<p>Also, rechnen wir nochmal die Standardregression (<code>lm1</code>). Probieren wir den Befehl <code>filter</code> dazu nochmal aus:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Affair5 &lt;-<span class="st"> </span><span class="kw">filter</span>(Affair, affairs !=<span class="st"> </span><span class="dv">0</span>)
lm9 &lt;-<span class="st"> </span><span class="kw">lm</span>(affairs ~<span class="st"> </span>rating, <span class="dt">data =</span> Affair5)
<span class="kw">summary</span>(lm9)
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = affairs ~ rating, data = Affair5)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;    Min     1Q Median     3Q    Max </span>
<span class="co">#&gt;  -6.06  -3.52  -0.06   3.69   7.48 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="co">#&gt; (Intercept)    8.757      1.023    8.56  1.3e-14 ***</span>
<span class="co">#&gt; rating        -0.848      0.280   -3.03   0.0029 ** </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 4.14 on 148 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.0584, Adjusted R-squared:  0.052 </span>
<span class="co">#&gt; F-statistic: 9.18 on 1 and 148 DF,  p-value: 0.00289</span></code></pre></div>
</div>
<div id="logistische-regression" class="section level3">
<h3><span class="header-section-number">12.2.14</span> logistische Regression</h3>
<p>Berechnen Sie für eine logistische Regression mit “Affäre ja vs. nein” als Kriterium, wie stark der Einfluss von Geschlecht, Kinderstatus, Ehezufriedenheit und Ehedauer ist!</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
Affair %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">affairs_dichotom =</span> <span class="kw">if_else</span>(affairs ==<span class="st"> </span><span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>)) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">glm</span>(affairs_dichotom ~gender +<span class="st"> </span>children +<span class="st"> </span>rating +<span class="st"> </span>yearsmarried, <span class="dt">data =</span> ., <span class="dt">family =</span> <span class="st">&quot;binomial&quot;</span>) -&gt;<span class="st"> </span>lm10

<span class="kw">summary</span>(lm10)
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; glm(formula = affairs_dichotom ~ gender + children + rating + </span>
<span class="co">#&gt;     yearsmarried, family = &quot;binomial&quot;, data = .)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Deviance Residuals: </span>
<span class="co">#&gt;    Min      1Q  Median      3Q     Max  </span>
<span class="co">#&gt; -1.420  -0.764  -0.617  -0.443   2.171  </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;              Estimate Std. Error z value Pr(&gt;|z|)    </span>
<span class="co">#&gt; (Intercept)    0.0537     0.4299    0.12     0.90    </span>
<span class="co">#&gt; gendermale     0.2416     0.1966    1.23     0.22    </span>
<span class="co">#&gt; childrenyes    0.3935     0.2831    1.39     0.16    </span>
<span class="co">#&gt; rating        -0.4654     0.0874   -5.33    1e-07 ***</span>
<span class="co">#&gt; yearsmarried   0.0221     0.0212    1.04     0.30    </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; (Dispersion parameter for binomial family taken to be 1)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     Null deviance: 675.38  on 600  degrees of freedom</span>
<span class="co">#&gt; Residual deviance: 630.26  on 596  degrees of freedom</span>
<span class="co">#&gt; AIC: 640.3</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Number of Fisher Scoring iterations: 4</span></code></pre></div>
<p>Wenn <code>if_else</code> unbekannt ist, lohnt sich ein Blick in die Hilfe mit <code>?if_else</code> (<code>dplyr</code> muss vorher geladen sein).</p>
<p>Aha, signifikant ist die Ehezufriedenheit: Je größer <code>rating</code> desto geringer die Wahrscheinlickeit für <code>affairs_dichotom</code>. Macht Sinn!</p>
<p>Übrigens, die Funktion <code>lm</code> und <code>glm</code> spucken leider keine brave Tabelle in Normalform aus. Aber man leicht eine schöne Tabelle (data.frame) bekommen mit dem Befehl <code>tidy</code> aus <code>broom</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(broom)
<span class="kw">tidy</span>(lm10) 
<span class="co">#&gt;           term estimate std.error statistic  p.value</span>
<span class="co">#&gt; 1  (Intercept)   0.0537    0.4299     0.125 9.01e-01</span>
<span class="co">#&gt; 2   gendermale   0.2416    0.1966     1.229 2.19e-01</span>
<span class="co">#&gt; 3  childrenyes   0.3935    0.2831     1.390 1.64e-01</span>
<span class="co">#&gt; 4       rating  -0.4654    0.0874    -5.327 9.97e-08</span>
<span class="co">#&gt; 5 yearsmarried   0.0221    0.0212     1.040 2.99e-01</span></code></pre></div>
<p>Und Tabellen (d.h. brave Dataframes) kann man sich schön ausgeben lassen z.B. mit dem Befehl <code>knitr::kable</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(knitr)
<span class="kw">tidy</span>(lm10) %&gt;%<span class="st"> </span>kable</code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">0.054</td>
<td align="right">0.430</td>
<td align="right">0.125</td>
<td align="right">0.901</td>
</tr>
<tr class="even">
<td align="left">gendermale</td>
<td align="right">0.242</td>
<td align="right">0.197</td>
<td align="right">1.229</td>
<td align="right">0.219</td>
</tr>
<tr class="odd">
<td align="left">childrenyes</td>
<td align="right">0.394</td>
<td align="right">0.283</td>
<td align="right">1.390</td>
<td align="right">0.164</td>
</tr>
<tr class="even">
<td align="left">rating</td>
<td align="right">-0.465</td>
<td align="right">0.087</td>
<td align="right">-5.327</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">yearsmarried</td>
<td align="right">0.022</td>
<td align="right">0.021</td>
<td align="right">1.040</td>
<td align="right">0.299</td>
</tr>
</tbody>
</table>
</div>
<div id="zum-abschluss" class="section level3">
<h3><span class="header-section-number">12.2.15</span> Zum Abschluss</h3>
<p>Visualisieren wir mal was!</p>
<p>Ok, wie wäre es damit:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Affair %&gt;%<span class="st"> </span>
<span class="st">   </span><span class="kw">select</span>(affairs, gender, children, rating) %&gt;%
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> affairs, <span class="dt">y =</span> rating)) +<span class="st"> </span><span class="kw">geom_jitter</span>(<span class="kw">aes</span>(<span class="dt">color =</span> gender, <span class="dt">shape =</span> children)) </code></pre></div>
<p><img src="076_Fallstudie_Affairs_files/figure-html/unnamed-chunk-32-1.png" width="70%" style="display: block; margin: auto;" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Affair %&gt;%<span class="st"> </span>
<span class="st">   </span><span class="kw">mutate</span>(<span class="dt">rating_dichotom =</span> <span class="kw">ntile</span>(rating, <span class="dv">2</span>)) %&gt;%<span class="st"> </span>
<span class="st">   </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> yearsmarried, <span class="dt">y =</span> affairs)) +<span class="st"> </span><span class="kw">geom_jitter</span>(<span class="kw">aes</span>(<span class="dt">color =</span> gender)) +
<span class="st">  </span><span class="kw">geom_smooth</span>()</code></pre></div>
<p><img src="076_Fallstudie_Affairs_files/figure-html/unnamed-chunk-33-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Puh. Geschafft!</p>
</div>
</div>
<p style="text-align: center;">
<a href="12-1-uberleben-auf-der-titanic.html"><button class="btn btn-default">Previous</button></a>
<a href="12-3-befehlsubersicht-6.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

</body>
</html>
