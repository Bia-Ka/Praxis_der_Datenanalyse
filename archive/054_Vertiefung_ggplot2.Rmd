# Erweiterungen für `ggplot2`


```{block2, ziele-ggplot2-vertiefung, type='rmdcaution', echo = TRUE} 
Lernziele:

- die Erweiturung `ggpairs` kennen und nutzen können.
- Korrelationsplots erzeugen können.


```


Für `ggplot2` gibt es eine Reihe von Erweiterungen^[http://www.ggplot2-exts.org]; einige stellen wir hier vor.


## ggpairs

Benötigte Pakete:
```{r}
library(ggplot2)
library(corrr)
library(GGally)
```

Laden wir zuerst, falls noch nicht geschehen, Daten:

```{r}
tips <- read.csv("https://sebastiansauer.github.io/data/tips.csv") 
```


Um eine Streudiagramm-Matrix darzustellen, ist der Befehl `GGally::ggpairs` praktisch:

```{r}
tips %>% 
  ggpairs(aes(color = sex), columns = c("total_bill", "smoker", "tip"))
```

Dabei gibt man an, welche Variable (hier `sex`) für die Farben im Diagramm zuständig sein soll (wir ordnen den Werten von `sex` jeweils eine Farbe zu). Mit `columns` sagen wir, welche Spalten des Dataframes wir dargestellt haben möchten. Lassen wir diesen Parameter weg, so werden alle Spaltne des Dataframes dargestellt.


## Correlationsplots
Mit dem Paket `corrr` lassen sich mehrere Korrelationskoeffizienten auf einmal visualisieren. 

```{r fig.cap = "Korr"}
df <- read.csv("https://osf.io/meyhp/?action=download")




df %>% 
  select(i01:i10) %>%   # Spalten wählen
  correlate() %>%   # Korrelationsmatrix berechnen
  rearrange() %>%   # Korrelation der Stärke nach ordnen  
  shave() %>%   # das obere Dreieck ist redundant, rasieren wir ab
  rplot()  # plotten
```

 

## Weitere
Hier finden sich viele weitere Ergänzungen für ggplot2: https://www.ggplot2-exts.org

